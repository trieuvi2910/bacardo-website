# docker-compose.yml
version: '3.8'

services:
  website:
    build: .
    container_name: bardo-website
    ports:
      - "80:80"
      - "443:443"
    volumes:
      # Mount source code để development
      - ./src:/usr/share/nginx/html:ro
      # Mount logs
      - ./logs:/var/log/nginx
    environment:
      - NGINX_HOST=localhost
      - NGINX_PORT=80
    restart: unless-stopped
    networks:
      - web-network

  # Optional: Thêm database nếu cần
  # db:
  #   image: mysql:8.0
  #   container_name: bardo-db
  #   environment:
  #     MYSQL_ROOT_PASSWORD: ${DB_ROOT_PASSWORD}
  #     MYSQL_DATABASE: ${DB_NAME}
  #     MYSQL_USER: ${DB_USER}
  #     MYSQL_PASSWORD: ${DB_PASSWORD}
  #   volumes:
  #     - db_data:/var/lib/mysql
  #   networks:
  #     - web-network
  #   restart: unless-stopped

# volumes:
#   db_data:

networks:
  web-network:
    driver: bridge 